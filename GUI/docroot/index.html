<!DOCTYPE html [
    <!ENTITY nbsp "&#160;">
    <!ENTITY aacute           "&#x000E1;" ><!--LATIN SMALL LETTER A WITH ACUTE -->
    <!ENTITY Aacute           "&#x000C1;" ><!--LATIN CAPITAL LETTER A WITH ACUTE -->
    <!ENTITY acirc            "&#x000E2;" ><!--LATIN SMALL LETTER A WITH CIRCUMFLEX -->
    <!ENTITY Acirc            "&#x000C2;" ><!--LATIN CAPITAL LETTER A WITH CIRCUMFLEX -->
    <!ENTITY acute            "&#x000B4;" ><!--ACUTE ACCENT -->
    <!ENTITY aelig            "&#x000E6;" ><!--LATIN SMALL LETTER AE -->
    <!ENTITY AElig            "&#x000C6;" ><!--LATIN CAPITAL LETTER AE -->
    <!ENTITY agrave           "&#x000E0;" ><!--LATIN SMALL LETTER A WITH GRAVE -->
    <!ENTITY Agrave           "&#x000C0;" ><!--LATIN CAPITAL LETTER A WITH GRAVE -->
    <!ENTITY aring            "&#x000E5;" ><!--LATIN SMALL LETTER A WITH RING ABOVE -->
    <!ENTITY Aring            "&#x000C5;" ><!--LATIN CAPITAL LETTER A WITH RING ABOVE -->
    <!ENTITY atilde           "&#x000E3;" ><!--LATIN SMALL LETTER A WITH TILDE -->
    <!ENTITY Atilde           "&#x000C3;" ><!--LATIN CAPITAL LETTER A WITH TILDE -->
    <!ENTITY auml             "&#x000E4;" ><!--LATIN SMALL LETTER A WITH DIAERESIS -->
    <!ENTITY Auml             "&#x000C4;" ><!--LATIN CAPITAL LETTER A WITH DIAERESIS -->
    <!ENTITY brvbar           "&#x000A6;" ><!--BROKEN BAR -->
    <!ENTITY ccedil           "&#x000E7;" ><!--LATIN SMALL LETTER C WITH CEDILLA -->
    <!ENTITY Ccedil           "&#x000C7;" ><!--LATIN CAPITAL LETTER C WITH CEDILLA -->
    <!ENTITY cedil            "&#x000B8;" ><!--CEDILLA -->
    <!ENTITY cent             "&#x000A2;" ><!--CENT SIGN -->
    <!ENTITY copy             "&#x000A9;" ><!--COPYRIGHT SIGN -->
    <!ENTITY curren           "&#x000A4;" ><!--CURRENCY SIGN -->
    <!ENTITY deg              "&#x000B0;" ><!--DEGREE SIGN -->
    <!ENTITY divide           "&#x000F7;" ><!--DIVISION SIGN -->
    <!ENTITY eacute           "&#x000E9;" ><!--LATIN SMALL LETTER E WITH ACUTE -->
    <!ENTITY Eacute           "&#x000C9;" ><!--LATIN CAPITAL LETTER E WITH ACUTE -->
    <!ENTITY ecirc            "&#x000EA;" ><!--LATIN SMALL LETTER E WITH CIRCUMFLEX -->
    <!ENTITY Ecirc            "&#x000CA;" ><!--LATIN CAPITAL LETTER E WITH CIRCUMFLEX -->
    <!ENTITY egrave           "&#x000E8;" ><!--LATIN SMALL LETTER E WITH GRAVE -->
    <!ENTITY Egrave           "&#x000C8;" ><!--LATIN CAPITAL LETTER E WITH GRAVE -->
    <!ENTITY eth              "&#x000F0;" ><!--LATIN SMALL LETTER ETH -->
    <!ENTITY ETH              "&#x000D0;" ><!--LATIN CAPITAL LETTER ETH -->
    <!ENTITY euml             "&#x000EB;" ><!--LATIN SMALL LETTER E WITH DIAERESIS -->
    <!ENTITY Euml             "&#x000CB;" ><!--LATIN CAPITAL LETTER E WITH DIAERESIS -->
    <!ENTITY frac12           "&#x000BD;" ><!--VULGAR FRACTION ONE HALF -->
    <!ENTITY frac14           "&#x000BC;" ><!--VULGAR FRACTION ONE QUARTER -->
    <!ENTITY frac34           "&#x000BE;" ><!--VULGAR FRACTION THREE QUARTERS -->
    <!ENTITY iacute           "&#x000ED;" ><!--LATIN SMALL LETTER I WITH ACUTE -->
    <!ENTITY Iacute           "&#x000CD;" ><!--LATIN CAPITAL LETTER I WITH ACUTE -->
    <!ENTITY icirc            "&#x000EE;" ><!--LATIN SMALL LETTER I WITH CIRCUMFLEX -->
    <!ENTITY Icirc            "&#x000CE;" ><!--LATIN CAPITAL LETTER I WITH CIRCUMFLEX -->
    <!ENTITY iexcl            "&#x000A1;" ><!--INVERTED EXCLAMATION MARK -->
    <!ENTITY igrave           "&#x000EC;" ><!--LATIN SMALL LETTER I WITH GRAVE -->
    <!ENTITY Igrave           "&#x000CC;" ><!--LATIN CAPITAL LETTER I WITH GRAVE -->
    <!ENTITY iquest           "&#x000BF;" ><!--INVERTED QUESTION MARK -->
    <!ENTITY iuml             "&#x000EF;" ><!--LATIN SMALL LETTER I WITH DIAERESIS -->
    <!ENTITY Iuml             "&#x000CF;" ><!--LATIN CAPITAL LETTER I WITH DIAERESIS -->
    <!ENTITY laquo            "&#x000AB;" ><!--LEFT-POINTING DOUBLE ANGLE QUOTATION MARK -->
    <!ENTITY macr             "&#x000AF;" ><!--MACRON -->
    <!ENTITY micro            "&#x000B5;" ><!--MICRO SIGN -->
    <!ENTITY middot           "&#x000B7;" ><!--MIDDLE DOT -->
    <!ENTITY nbsp             "&#x000A0;" ><!--NO-BREAK SPACE -->
    <!ENTITY not              "&#x000AC;" ><!--NOT SIGN -->
    <!ENTITY ntilde           "&#x000F1;" ><!--LATIN SMALL LETTER N WITH TILDE -->
    <!ENTITY Ntilde           "&#x000D1;" ><!--LATIN CAPITAL LETTER N WITH TILDE -->
    <!ENTITY oacute           "&#x000F3;" ><!--LATIN SMALL LETTER O WITH ACUTE -->
    <!ENTITY Oacute           "&#x000D3;" ><!--LATIN CAPITAL LETTER O WITH ACUTE -->
    <!ENTITY ocirc            "&#x000F4;" ><!--LATIN SMALL LETTER O WITH CIRCUMFLEX -->
    <!ENTITY Ocirc            "&#x000D4;" ><!--LATIN CAPITAL LETTER O WITH CIRCUMFLEX -->
    <!ENTITY ograve           "&#x000F2;" ><!--LATIN SMALL LETTER O WITH GRAVE -->
    <!ENTITY Ograve           "&#x000D2;" ><!--LATIN CAPITAL LETTER O WITH GRAVE -->
    <!ENTITY ordf             "&#x000AA;" ><!--FEMININE ORDINAL INDICATOR -->
    <!ENTITY ordm             "&#x000BA;" ><!--MASCULINE ORDINAL INDICATOR -->
    <!ENTITY oslash           "&#x000F8;" ><!--LATIN SMALL LETTER O WITH STROKE -->
    <!ENTITY Oslash           "&#x000D8;" ><!--LATIN CAPITAL LETTER O WITH STROKE -->
    <!ENTITY otilde           "&#x000F5;" ><!--LATIN SMALL LETTER O WITH TILDE -->
    <!ENTITY Otilde           "&#x000D5;" ><!--LATIN CAPITAL LETTER O WITH TILDE -->
    <!ENTITY ouml             "&#x000F6;" ><!--LATIN SMALL LETTER O WITH DIAERESIS -->
    <!ENTITY Ouml             "&#x000D6;" ><!--LATIN CAPITAL LETTER O WITH DIAERESIS -->
    <!ENTITY para             "&#x000B6;" ><!--PILCROW SIGN -->
    <!ENTITY plusmn           "&#x000B1;" ><!--PLUS-MINUS SIGN -->
    <!ENTITY pound            "&#x000A3;" ><!--POUND SIGN -->
    <!ENTITY raquo            "&#x000BB;" ><!--RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK -->
    <!ENTITY reg              "&#x000AE;" ><!--REGISTERED SIGN -->
    <!ENTITY sect             "&#x000A7;" ><!--SECTION SIGN -->
    <!ENTITY shy              "&#x000AD;" ><!--SOFT HYPHEN -->
    <!ENTITY sup1             "&#x000B9;" ><!--SUPERSCRIPT ONE -->
    <!ENTITY sup2             "&#x000B2;" ><!--SUPERSCRIPT TWO -->
    <!ENTITY sup3             "&#x000B3;" ><!--SUPERSCRIPT THREE -->
    <!ENTITY szlig            "&#x000DF;" ><!--LATIN SMALL LETTER SHARP S -->
    <!ENTITY thorn            "&#x000FE;" ><!--LATIN SMALL LETTER THORN -->
    <!ENTITY THORN            "&#x000DE;" ><!--LATIN CAPITAL LETTER THORN -->
    <!ENTITY times            "&#x000D7;" ><!--MULTIPLICATION SIGN -->
    <!ENTITY uacute           "&#x000FA;" ><!--LATIN SMALL LETTER U WITH ACUTE -->
    <!ENTITY Uacute           "&#x000DA;" ><!--LATIN CAPITAL LETTER U WITH ACUTE -->
    <!ENTITY ucirc            "&#x000FB;" ><!--LATIN SMALL LETTER U WITH CIRCUMFLEX -->
    <!ENTITY Ucirc            "&#x000DB;" ><!--LATIN CAPITAL LETTER U WITH CIRCUMFLEX -->
    <!ENTITY ugrave           "&#x000F9;" ><!--LATIN SMALL LETTER U WITH GRAVE -->
    <!ENTITY Ugrave           "&#x000D9;" ><!--LATIN CAPITAL LETTER U WITH GRAVE -->
    <!ENTITY uml              "&#x000A8;" ><!--DIAERESIS -->
    <!ENTITY uuml             "&#x000FC;" ><!--LATIN SMALL LETTER U WITH DIAERESIS -->
    <!ENTITY Uuml             "&#x000DC;" ><!--LATIN CAPITAL LETTER U WITH DIAERESIS -->
    <!ENTITY yacute           "&#x000FD;" ><!--LATIN SMALL LETTER Y WITH ACUTE -->
    <!ENTITY Yacute           "&#x000DD;" ><!--LATIN CAPITAL LETTER Y WITH ACUTE -->
    <!ENTITY yen              "&#x000A5;" ><!--YEN SIGN -->
    <!ENTITY yuml             "&#x000FF;" ><!--LATIN SMALL LETTER Y WITH DIAERESIS -->
]>

<html lang="de">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="css/bootstrap.css"/>
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/custom.css"/>
  <link rel="stylesheet" href="css/cropper.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"/>
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon"/>
  <link rel="icon" href="img/favicon.ico" type="image/x-icon"/>
  <title>3CPickO</title>
</head>
<body>
  <nav>
    <div class="nav nav-tabs mb-2" id="nav-tab" role="tablist">
      <a class="nav-item nav-link" id="nav-start-tab" data-toggle="tab" href="#nav-start" role="tab" aria-controls="nav-start" aria-selected="false">Start</a>
      <a class="nav-item nav-link active" id="nav-new-job-tab" data-toggle="tab" href="#nav-new-job" role="tab" aria-controls="nav-new-job" aria-selected="true">New Job</a>
      <a class="nav-item nav-link" id="nav-all-jobs-tab" data-toggle="tab" href="#nav-all-jobs" role="tab" aria-controls="nav-all-jobs" aria-selected="false">All Jobs</a>
      <a class="nav-item nav-link" id="nav-historic-jobs-tab" data-toggle="tab" href="#nav-historic-jobs" role="tab" aria-controls="nav-all-jobs" aria-selected="false">History</a>
      <a class="nav-item nav-link" id="nav-settings-tab" data-toggle="tab" href="#nav-settings" role="tab" aria-controls="nav-settings" aria-selected="false">Settings</a>
      <a class="nav-item nav-link" id="nav-admin-tab" data-toggle="tab" href="#nav-admin" role="tab" aria-controls="nav-settings" aria-selected="false">Admin</a>
    </div>
  </nav>
  <div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade" id="nav-start" role="tabpanel" aria-labelledby="nav-start-tab">
      <div class="container justify-content-start">
        <div class="row ">
          <div class="col-lg-8">
            <h1>Intro …</h1>
          </div>
        </div>
      </div>
    </div>
    <div class="tab-pane fade show active" id="nav-new-job" role="tabpanel" aria-labelledby="nav-new-job-tab">
      <div class="container-fluid">
        <div class="row">
          <div class="col-sm-4 col-md-3 col-lg-2">
            <div class="nav flex-column nav-pills" id="steps">
              <h4 id ="headertag">Entwurf</h4>
              <div class="nav-link active" id="browse-tab" href="#browse">1. Bild auswählen</div>
              <div class="nav-link" id="cut-tab" href="#cut">2. Bild zuschneiden</div>
              <div class="nav-link" id="attributes-tab" href="#attributes">3. Attribute angeben</div>
              <!--<div class="nav-link" id="settings-tab" href="#settings" onclick="startImageProcessing()">Parameter anpassen</div>-->
              <div class="nav-link" id="selection-tab" href="#selection">4. Kolonien auswählen</div>
              <div class="nav-link" id="strategy-tab" href="#strategy">5. Pickstrategie wählen</div>
              <div class="nav-link" id="overview-tab" href="#overview">6. Übersicht</div>
              <div class="nav-link" id="execute-tab" href="#execute">7. Pickjob starten</div>
            </div>
          </div>
          <div class="col-sm-8 col-md-9 col-lg-10" >
            <div class="tab-content" id="tabContent">
              <div class="tab-pane fade show active" id="browse">
                <div class="row mb-4">
                  <div class="col-md-6 col-lg-4">
                    <h2>Choose image</h2>
                    <form><input id="classicUpload" type="file" style="display: none;"/></form>
                    <div id="dropZone" class="empty" onclick="$('#classicUpload').trigger('click');">Drop Image</div>
                    <div id="chosen-image"></div>
                  </div>
                </div>
                <div class="row">
                  <div class="col" >
                    <h2>All images</h2>
                    <!-- Horizontal Scrolling: white-space: nowrap; width: 90%; overflow: auto; -->
                    <div id="all-images" style="display: none;"></div>
                  </div>
                </div>
              </div>
              <div class="tab-pane fade col-md-8" id="cut">
                <h2>Cut image</h2>
                <div class="crop_container">
                  <div>
                    <img id="cutImg" src="" alt="Picture"/>
                  </div>
                </div>
                <br/>
                <button class="btn btn-dark m-2" onclick="attributesTab()">Next Step</button>
              </div>
              <div class="tab-pane fade col-md-6" id="attributes">
                <h2>Pickjob attributes</h2>
                <form id="attributes-form" name="attributes-form">
                  <div class="form-group">
                    <label for="staticImgName">Image:&nbsp;</label><span id="staticImgName"></span>
                  </div>
                  <div class="form-group">
                    <label for="inputJobName">Job name</label>
                    <input type="text" class="form-control" id="inputJobName" placeholder="optional"/>
                  </div>
                  <div class="form-row">
                    <div class="form-group col-md-6">
                      <label for="select-printer-profile">Printer</label>
                      <select class="form-control" id="select-printer-profile"></select>
                    </div>
                    <div class="form-group col-md-6">
                      <label for="select-socket-profile">Socket</label>
                      <select class="form-control" id="select-socket-profile"></select>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="description-input">Description</label>
                    <textarea class="form-control" id="description-input" rows="3"></textarea>
                  </div>
                </form>
                <button class="btn btn-dark m-2" onclick="selectionTab()">Next Step</button>
              </div>
              <div class="tab-pane fade col-md-12 col-xl-10" id="selection">
                <div class="row">
                  <div class="col-lg-9">
                    <h2>Choose colonys</h2>
                     <div style="position: relative;">
                       <canvas id="layer0" style="z-index: 0;"></canvas>
                       <canvas id="layer1" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
                    </div>
                    <div id="buttons">
                      <button class="btn btn-dark" onclick="getPositions()">Automatische Kolonieerkennung</button>
                      <button class="btn btn-dark" onclick="editColonyMode('add')">F&uuml;ge Kolinie hinzu</button>
                      <button class="btn btn-dark" onclick="editColonyMode('del')">L&ouml;sche Kolinie</button>
                      <button class="btn btn-dark" onclick="strategyTab()">Weiter</button>
                    </div>
                  </div>
                  <div class="col-lg-3" style="z-index: 2;">
                    <h2 class="d-none d-lg-block">Settings</h2>
                    <div class="form-group">
                      <label for="select-algorithm">Algorithm:</label>
                      <select class="form-control" id="select-algorithm" name="select-algorithm"></select>
                    </div>
                    <form id="detection-settings-form">
                      <div id="detection-settings"></div>
                      <button type="submit" class="btn btn-primary">Apply</button>
                      <button type="reset" class="btn btn-secondary">Reset</button>
                    </form>
                  </div>
                </div>
                <div id="showCoordinates"></div>
              </div>
              <div class="tab-pane fade col-md-8" id="strategy">
                <h2>Pick strategy</h2>
                <form id="strategy-form" name="strategy-form">
                  <div class="form-group">
                    <label for="select-plate-profile">Plates:</label>
                    <select id="select-plate-profile"></select>
                  </div>
                </form>
                <h2>Choose starting well</h2>
                <canvas id="pickstrategy-canvas"></canvas>
                <br/>
                <button class="btn btn-dark m-2" onclick="overviewTab()">Overview ></button>
              </div>
              <div class="tab-pane fade col-md-8" id="overview">
                <h2>Overview</h2>
                <div id="overview-content"></div>
                <h2>Check preconditions</h2>
                <form id="check-preconditions" class="needs-validation" novalidate="novalidate"> <!-- TODO needs-validation dosent need validation? -->
                  <div class="form-group">
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" value="" id="check-plates" required="required"/>
                      <label class="form-check-label" for="check-plates">
                        Plates correctly positioned in colony picker?
                      </label>
                      <div class="invalid-feedback">
                        Check plates and confirm!
                      </div>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required="required"/>
                      <label class="form-check-label" for="invalidCheck">
                        Agree to terms and conditions.
                      </label>
                      <div class="invalid-feedback">
                        You must agree!
                      </div>
                    </div>
                  </div>
                </form>
                <button class="btn btn-dark m-2" onclick="executeTab()">Start picking ></button>
              </div>
              <div class="tab-pane fade col-md-8" id="execute">
                <!-- TODO Pickjob pausieren/abbrechen, Protokoll herunterladen -->
                <h1>Picking...</h1>
                <div class="spinner-border"></div>
                <br/>
                <button class="btn btn-dark m-2" onclick="">Export pdf</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="nav-all-jobs" role="tabpanel" aria-labelledby="nav-all-jobs-tab">
      <div class="container">
        <h1>Pickjobs</h1>
        <form class="form-inline">
          <input class="form-control my-2 mr-2" type="search" placeholder="Suchbegriff"/>
          <button class="btn btn-dark my-2" type="submit">Filter</button>
        </form>
        <div id="allJobList"></div>
      </div>
    </div>
    <div class="tab-pane fade" id="nav-historic-jobs" role="tabpanel" aria-labelledby="nav-historic-jobs-tab">
      <div class="container">
        <h1>Job History</h1>
      </div> 
    </div>
    <div class="tab-pane fade" id="nav-settings" role="tabpanel" aria-labelledby="nav-settings-tab">
      <div class="container">
        <div class="row mb-2" id="group">
          <div class="col">
            <h2>Printer Porfiles</h2>
            <div class="accordion" id="printer-profiles"></div>
          </div>
          <div class="col">
            <h2>Socket Profiles</h2>
            <div class="accordion" id="socket-profiles"></div>
          </div>
          <div class="col">
            <h2>Plate Profiles</h2>
            <div class="accordion" id="plate-profiles"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="nav-admin" role="tabpanel" aria-labelledby="nav-admin-tab">
      <button type="button" class="btn btn-danger" onclick="api('shutdown')">Server ausschalten</button>
      <button type="button" class="btn btn-danger" onclick="api('restart')">Server neustarten</button>
      <button type="button" class="btn btn-success" onclick="api('backup')">Backup</button>
      <button type="button" class="btn btn-success" onclick="api('startjob')">Drucken</button>
      <div id="debug-output"></div>
    </div>
  </div>
  <!-- Info-Dialog -->
  <div class="modal fade" id="info-dialog" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="info-dialog-title"></h5>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <button type="button" class="btn btn-dark" data-dismiss="modal">Ok</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Delete-Dialog -->
  <div class="modal fade" id="delete-dialog" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="delete-dialog-title"></h5>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <!-- <div class="modal-body" id="delete-dialog-body"></div> -->
        <div class="modal-footer">
          <button type="button" class="btn btn-dark" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal" id="delete-button">Delete</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Global Alert: call ShowAlert(message, type) -->
  <div id="alert-window">
    <div id="global-alert" style="display: none;">Disconnected from server.</div>
  </div>
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Bootstrap JS -->
  <script src="js/jquery-3.3.1.js"></script>
  <script src="js/bootstrap.bundle.js"></script>
  <script type="text/javascript" src="js/api.js"></script>
  <script type="text/javascript" src="js/dropzone.js"></script>
  <script type="text/javascript" src="js/index.js"></script>
  <script type="text/javascript" src="js/colonydetection.js"></script>
  <script type="text/javascript" src="js/config.js"></script>
  <script type="text/javascript" src="js/cropper.js"></script>
  <script type="text/javascript" src="js/mootools-yui-compressed.js"></script>
  <script type="text/javascript" src="js/pickstrategie.js"></script>
  <script type="text/javascript" src="js/circle.js"></script>
</body>
</html>